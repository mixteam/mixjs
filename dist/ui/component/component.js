define("#mix/core/0.3.0/ui/component/component",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/core/0.3.0/base/message","mix/core/0.3.0/ui/template","mix/core/0.3.0/ui/module","mix/core/0.3.0/dom/selector"],function(a,b,c){function p(a,b){var c=j.createElement("style");c.setAttribute("type","text/css"),c.setAttribute("rel","stylesheet"),c.setAttribute("id","stylesheet-component-"+a),c.innerText=b,k.appendChild(c)}a("mix/core/0.3.0/base/reset");var f=(a("mix/core/0.3.0/base/class"),a("mix/core/0.3.0/base/message"),a("mix/core/0.3.0/ui/template")),g=a("mix/core/0.3.0/ui/module"),h=a("mix/core/0.3.0/dom/selector"),i=window,j=i.document,k=j.getElementsByTagName("head")[0],l=void 0,m={debug:!0},n={},o=g.extend({initialize:function(a,b){var c=this;o.superclass.initialize.call(c,a,b),c.__dataChanged=l},_initData:function(a){var b=this;b.__data=Object.extend({},a,!0)},_initTemplate:function(a,b,c){var e,d=this;e=d.__tmpl=new f(d.__name,"component"),b&&e.addHelper(b),c&&e.addPartial(c),d.__tmpl.compile(a)},_findDataPath:function(a,b){return Object.each(b,function(b){return a.hasOwnProperty(b)?(a=a[b],void 0):l}),a},getData:function(a){var d,b=this,c=b.__data;return"string"==typeof a&&(a=a.split(".")),d=a.pop(),c=b._findDataPath(c,a),c?c[d]:void 0},setData:function(a,b,c){var f,g,h,d=this,e=d.__data;return!Object.isTypeof(h=a,"object")||h instanceof Array?(b!=l&&("string"==typeof a&&(a=a.split(".")),g=a.pop(),e=d._findDataPath(e,a),e&&(e[g]=Object.clone(b,!0),c||(a.push(g),f=d.__dataChanged||(d.__dataChanged={}),f[a.join(".")]=e[g]))),void 0):(c=b,Object.each(h,function(a,b){d.setData(b,a,c)}),void 0)},render:function(a){var d,e,f,b=this,a=a||b.__data,c=b.__tmpl;return c.all(a),d=b.__domObj=h(c.getNodeList()),e=b.__domId=b.__domId||d.attr("id")||b.__name+"-"+(new Date).getTime(),f=b.__domName=b.__domName||d.attr("name")||b.__name,d.attr("id",e),d.attr("name",f),o.superclass.render.call(b,d),d},update:function(a,b){var c=this,d=c.__dataChanged,e=c.__tmpl,f=c.__domObj;a&&b&&(d={},d[a]=b),c._disattach(f),d?Object.each(d,function(a,b){e.update(b,a)}):e.update("",c.__data),f=c.__domObj=h(e.getNodeList()),f.attr("id",c.__domId),f.attr("name",c.__domName),c._attach(f),delete c.__dataChanged},destroy:function(){var a=this,b=a.__tmpl,c=a.getDom();c.remove(),b.destroy(),o.superclass.destroy.call(a),delete a.__data,delete a.__dataChanged}});o.register=function(a,b,c,d){if(!n[a]){p(a,d);var e=o.extend({initialize:function(d,f,g,h){var i=this;e.superclass.initialize.call(i,a,"component"),i.__domId=d,i.__domName=f,i._initOptions(b.OPTIONS||{}),i._initAttrs(b.ATTRS||{}),i._initData(b.DATA||{}),i._initEvents(b.EVENTS||[]),i._initAttach(b.ATTACH||{}),i._initTemplate(c,b.TMPL_HELPER,b.TMPL_PARTIAL),b.CONSTRUCTOR.call(i,g,h)}});return e.implement(b.METHOD),Object.extend(e,b.CONST||{}),n[a]=e}},o.depos=function(a){if(!n[a])throw new Error('Component "'+a+'" has not defined');return n[a]},o.options=function(a){m=Object.extend(m,a)},c.exports=o});