define("#mix/core/0.3.0/ui/component/component",["mix/core/0.3.0/base/reset","mix/core/0.3.0/base/class","mix/core/0.3.0/base/message","mix/core/0.3.0/ui/template","mix/core/0.3.0/ui/module","mix/core/0.3.0/dom/selector"],function(a,b,c){function d(a,b){var c=i.createElement("style");c.setAttribute("type","text/css"),c.setAttribute("rel","stylesheet"),c.setAttribute("id","stylesheet-component-"+a),c.innerText=b,j.appendChild(c)}a("mix/core/0.3.0/base/reset");var e=(a("mix/core/0.3.0/base/class"),a("mix/core/0.3.0/base/message"),a("mix/core/0.3.0/ui/template")),f=a("mix/core/0.3.0/ui/module"),g=a("mix/core/0.3.0/dom/selector"),h=window,i=h.document,j=i.getElementsByTagName("head")[0],k=void 0,l={debug:!0},m={},n=f.extend({initialize:function(a,b){var c=this;n.superclass.initialize.call(c,a,b),c.__dataChanged=k},_initData:function(a){var b=this;b.__data=Object.extend({},a,!0)},_initTemplate:function(a,b,c){var d,f=this;d=f.__tmpl=new e(f.__name,"component"),b&&d.addHelper(b),c&&d.addPartial(c),f.__tmpl.compile(a)},_findDataPath:function(a,b){return Object.each(b,function(b){return a.hasOwnProperty(b)?(a=a[b],void 0):k}),a},getData:function(a){var b,c=this,d=c.__data;return"string"==typeof a&&(a=a.split(".")),b=a.pop(),d=c._findDataPath(d,a),d?d[b]:void 0},setData:function(a,b,c){var d,e,f,g=this,h=g.__data;return!Object.isTypeof(f=a,"object")||f instanceof Array?(b!=k&&("string"==typeof a&&(a=a.split(".")),e=a.pop(),h=g._findDataPath(h,a),h&&(h[e]=Object.clone(b,!0),c||(a.push(e),d=g.__dataChanged||(g.__dataChanged={}),d[a.join(".")]=h[e]))),void 0):(c=b,Object.each(f,function(a,b){g.setData(b,a,c)}),void 0)},render:function(a){var b,c,d,e=this,a=a||e.__data,f=e.__tmpl;return f.all(a),b=e.__domObj=g(f.getNodeList()),c=e.__domId=e.__domId||b.attr("id")||e.__name+"-"+(new Date).getTime(),d=e.__domName=e.__domName||b.attr("name")||e.__name,b.attr("id",c),b.attr("name",d),n.superclass.render.call(e,b),b},update:function(a,b){var c=this,d=c.__dataChanged,e=c.__tmpl,f=c.__domObj;a&&b&&(d={},d[a]=b),c._disattach(f),d?Object.each(d,function(a,b){e.update(b,a)}):e.update("",c.__data),f=c.__domObj=g(e.getNodeList()),f.attr("id",c.__domId),f.attr("name",c.__domName),c._attach(f),delete c.__dataChanged},destroy:function(){var a=this,b=a.__tmpl,c=a.getDom();c.remove(),b.destroy(),n.superclass.destroy.call(a),delete a.__data,delete a.__dataChanged}});n.register=function(a,b,c,e){if(!m[a]){d(a,e);var f=n.extend({initialize:function(d,e,g,h){var i=this;f.superclass.initialize.call(i,a,"component"),i.__domId=d,i.__domName=e,i._initOptions(b.OPTIONS||{}),i._initAttrs(b.ATTRS||{}),i._initData(b.DATA||{}),i._initEvents(b.EVENTS||[]),i._initAttach(b.ATTACH||{}),i._initTemplate(c,b.TMPL_HELPER,b.TMPL_PARTIAL),b.CONSTRUCTOR.call(i,g,h)}});return f.implement(b.METHOD),Object.extend(f,b.CONST||{}),m[a]=f}},n.depos=function(a){if(!m[a])throw new Error('Component "'+a+'" has not defined');return m[a]},n.options=function(a){l=Object.extend(l,a)},c.exports=n});